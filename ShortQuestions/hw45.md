1. List all of the annotations you learned from class and homework to annotaitons.md<br>
The answer in the annotations45.md file.<br>


2. What is the authentication?<br>
Authentication is the process of verifying the identity of a user, device, or system to ensure that they are who they claim to be. It is a fundamental component of security and access control in various contexts, including computer systems, websites, mobile apps, and physical access control.Authentication typically involves presenting some form of credentials or proof of identity, which can come in various forms, such as:Username and Password,Token-based Authentication,Single Sign-On (SSO) ,and OAuth.<br>

   
3. What is the authorization?<br>
Authorization is the process of determining what actions or operations a user, system, or application is allowed to perform within a particular system or resource. It is a crucial component of access control and security and works in conjunction with authentication, which verifies the identity of a user or entity.The component of authorization includes Permissions and Privileges, Access Control Lists, Roles and Role-Based Access Control, Attributes and Context-Based Access Control, and Authorization Policies.<br>


4. What is the difference between authentication and authorization?<br>
Authentication is the process of verifying the identity of a user or system. It answers the question, "Who are you?".Authentication primarily focuses on confirming the identity of a user or entity. It ensures that the person or system is indeed who they claim to be. Authentication involves verifying credentials, such as username and password, biometrics, tokens, or other proof of identity.<br>
Authorization is the process of determining what actions or operations a user or system is allowed to perform after their identity is established. It answers the question, "What are you allowed to do?".Authorization focuses on defining and managing the permissions and access rights that dictate what actions a user or system can perform once their identity is confirmed.Authorization involves defining access control rules, permissions, and policies, and making decisions about what a user or system is allowed to do.<br>


5. What is HTTP Session?<br>
An HTTP session is a mechanism used in web development to maintain stateful information about a user's interactions with a web application across multiple requests and responses. It allows the web server to associate data with a specific user and maintain this association throughout their visit to a website. Sessions are essential for implementing features like user authentication, shopping carts in e-commerce sites, and maintaining user-specific data.<br>


6. What is Cookie?<br>
A cookie is a small piece of data that a web server sends to a user's web browser when the user visits a website. The browser stores this data and sends it back to the server with subsequent requests. Cookies are used to store information about the user's interactions with the website, allowing the website to remember user-specific information and settings.<br>


7. What is the difference between Session and Cookie?<br>
Cookies: Cookies are stored on the user's device (client-side), typically in the user's web browser.Cookies have a size limitation, typically a few kilobytes. They are suitable for storing small amounts of data, such as user preferences or a session ID.<br>
Sessions: Sessions are stored on the server. The server maintains session data, and the client only holds a reference to the session, often in the form of a session ID stored in a cookie.Sessions can store larger amounts of data, as the data is stored on the server. This makes sessions more suitable for storing complex or sensitive information.<br>


8. How do we use session and cookie to keep user information across the application?<br>
Session Management->User Login and Session Creation->Cookie Creation->Subsequent Requests->Session Retrieval->Updating Session Data->Session Expiration and Cleanup->logout<br>


9. What is JWT?<br>
JWT stands for JSON Web Token, and it is a compact, self-contained way to represent and transmit information between two parties in the form of a JSON object. JWTs are commonly used for authentication and authorization in web applications and APIs. They are a popular method for securely transmitting information between the client and server, especially in stateless and distributed environments.JWT is typically composed of three parts such as header, payload, and signature<br>


10. What is the spring security filter?<br>
Spring Security is a powerful framework for handling security and authentication in Java-based web applications. Spring Security provides a series of filters that play a crucial role in securing web applications by intercepting and processing HTTP requests. These filters work together to handle various aspects of security, such as user authentication, authorization, session management, and more.<br>


11. describe how do JWT work.<br>
JSON Web Tokens (JWTs) are a compact, self-contained means of representing and transmitting information between parties as a JSON object. They are widely used for authentication and authorization in web applications and APIs.<br>
JWT Creation:The process begins when a user logs in or is authenticated. Upon successful authentication, a JWT is created.
JWT Structure:A JWT consists of three parts: the header, the payload, and the signature. These parts are base64-encoded and concatenated using periods ('.'). Here's what each part contains:Header, Payload, and signature. <br>
JWT Verification:On the server, when a request is received, the server decodes the JWT by separating the header, payload, and signature. It then verifies the signature using the appropriate secret or public key.<br>

12. Do you use any Encoder to encode Password?<br>
PasswordEncoder: Spring Security provides the PasswordEncoder interface, which is used for both encoding and verifying passwords. There are several implementations of this interface, such as BCryptPasswordEncoder, Pbkdf2PasswordEncoder, and StandardPasswordEncoder. Each of these implementations uses a different hashing algorithm.<br>


13. What is UserDetailService? AuthenticationProvider?AuthenticationManager? AuthenticationFilter?
UserDetailsService is an interface in Spring Security used to load user-specific data during the authentication process. It has a single method, loadUserByUsername, which retrieves user details (including username, password, and authorities) based on a given username. You typically implement this interface to connect to your user database or user repository. This interface is used by Spring Security to retrieve user details for authentication.<br>
An AuthenticationProvider is responsible for authenticating a user. It receives an Authentication object (typically a UsernamePasswordAuthenticationToken) that contains user credentials, and it validates those credentials against the user details obtained from the UserDetailsService. You can configure multiple AuthenticationProvider instances, and Spring Security will try each of them until one successfully authenticates the user. Common implementations include DaoAuthenticationProvider for username and password-based authentication and LdapAuthenticationProvider for LDAP-based authentication.<br>
An AuthenticationFilter (also referred to as an authentication processing filter) is a part of the Spring Security filter chain. It is responsible for processing incoming authentication requests, extracting user credentials from the request (e.g., username and password), and generating an Authentication object to represent the user's authentication attempt. Common authentication filters include UsernamePasswordAuthenticationFilter for processing username and password authentication and JwtAuthenticationFilter for processing JSON Web Tokens (JWT) authentication.<br>


14. What is the disadvantage of Session? how to overcome the disadvantage?
    1. Server-Side Resource Consumption:
    Disadvantage: Storing session data on the server can consume server resources, especially when many users have active sessions, leading to increased memory usage.
    Solution: To overcome this, consider optimizing the use of sessions. Only store essential data in sessions, and avoid storing large or unnecessary information. You can also use external storage solutions like distributed caches or databases to offload session data from the application server.
    2. Scalability Challenges:
    Disadvantage: Sessions can make it challenging to scale horizontally, as session data must be shared or synchronized between multiple servers in a cluster.
    Solution: To address scalability issues, consider using stateless authentication mechanisms like JSON Web Tokens (JWT). Alternatively, use sticky sessions or shared session management solutions that allow session data to be accessible across multiple application instances.
    3. Performance Impact:
    Disadvantage: Frequent read and write operations on session data can introduce performance overhead.
    Solution: Optimize your session management code, and consider using in-memory caching to improve performance. You can also explore using techniques like lazy loading, which fetches session data only when needed.
    4. Session Invalidation:
    Disadvantage: Properly managing session invalidation, such as logging users out, can be complex and error-prone.
    Solution: Implement robust session invalidation mechanisms. When a user logs out or when a session becomes inactive, ensure that the session is properly invalidated, and associated data is removed. Configure session timeouts appropriately to automatically expire inactive sessions.
    5. Security Risks:
    Disadvantage: If session data is not properly secured, sensitive information may be exposed in the event of a security breach.
    Solution: Avoid storing sensitive data in sessions whenever possible. If sensitive data must be stored, encrypt it before saving it to the session. Implement secure session management practices, including using secure, HttpOnly cookies and ensuring that the session management system is configured with proper security settings.
    6. Session Hijacking:
    Disadvantage: Sessions can be vulnerable to session hijacking if not securely managed, allowing attackers to steal session IDs and impersonate users.
    Solution: Implement security measures like using secure, HttpOnly cookies, regenerating session IDs after login, and using secure communication (HTTPS) to mitigate session hijacking risks.
    7. Client-Side Storage:
    Disadvantage: When session data is stored on the client-side (e.g., in cookies or local storage), it may be susceptible to client-side attacks and data exposure.
    Solution: If client-side storage is used, ensure that data is properly encrypted and consider using security features like the SameSite attribute in cookies to enhance data protection.

15. how to get value from application.properties?
Using @Value Annotation:
```
import org.springframework.beans.factory.annotation.Value;
@Value("${my.property}")
private String myProperty;
```
Using Environment Object:
```
import org.springframework.core.env.Environment;
// ...
@Autowired
private Environment environment;
String myPropertyValue = environment.getProperty("my.property");
```

16. What is the role of configure(HttpSecurity http) and configure(AuthenticationManagerBuilder auth)?
In a Spring Security-enabled application, the configure(HttpSecurity http) and configure(AuthenticationManagerBuilder auth) methods are critical for configuring security settings related to HTTP requests and user authentication, respectively.
The configure(HttpSecurity http) method is used to configure security rules related to HTTP requests. It defines how different parts of your application should be protected and what authentication and authorization rules should be applied.
```
@Override
protected void configure(HttpSecurity http) throws Exception {
    http
        .authorizeRequests()
            .antMatchers("/public/**").permitAll()
            .antMatchers("/admin/**").hasRole("ADMIN")
            .anyRequest().authenticated()
            .and()
        .formLogin()
            .loginPage("/login")
            .permitAll()
            .and()
        .logout()
            .permitAll()
            .and()
        .sessionManagement()
            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)
            .and()
        .csrf().disable(); 
}
```
The configure(AuthenticationManagerBuilder auth) method is used to define how users are authenticated. It specifies the authentication mechanism, such as in-memory users, database-backed users, LDAP, or custom authentication providers.
```
@Autowired
public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {
    auth
        .inMemoryAuthentication()
            .withUser("user").password("{noop}password").roles("USER")
            .and()
            .withUser("admin").password("{noop}adminpassword").roles("USER", "ADMIN");
}
```

17. What is Spring security authentication and authorization?<br>
Authentication is the process of verifying the identity of a user, typically by confirming that they are who they claim to be. In Spring Security, authentication involves:User Credentials,User Authentication,Security Context,Security Filters,Authentication Providers.<br>
Authorization is the process of determining what actions a user is allowed to perform within an application or system. In Spring Security, authorization involves:Access Control,Authorization Filters,Access Decision Managers, and Role-Based and Attribute-Based Authorization. <br>


18. (Optional)Assuming that the Redbook UI supports dark mode and multiple
    languages, when a user signs in, their preferences (such as dark-mode=true and
    lang=eng) will be read from the database. For the assignment, you can set a value
    like in the course materials; there is no need to actually read from a database.
    After signing in, observe the response header and cookie for related information.
    Continue calling other APIs and observe the request header or cookie for other
    information. After signing in, Spring Security will generate a session, and the
    JSESSIONID will be in the cookie. Try to obtain the session content through the
    JSESSIONID, and then log the session content using the log4j tool. Write the
    code based on the 08_04 branch.
![img.png](img.png)
19. Reading, 泛读⼀下即可，⾃⼰觉得是重点的，可以多看两眼。https://www.interviewbit.com/spring-security-interview-questions/#is-security-a-cross-cutting-concern
a. 1-12
b. 17 - 30<br>
Done